---
layout: post
published: false
title: Simon
subtitle: El juego de memoria de los que crecimos en los 80s
---
## ¿Cómo es el juego de Simon?

El juego es sencillo. Al pulsar el botón de inición se muestra una secuencia de colores y sonidos en un tablero, luego el jugador tiene que repetir la secuencia usando los botones del tablero, si tiene exito el juego muestra de nuevo la secuencia añadiendo un nuevo paso. Asi continua hasta que el jugador falle en reproducir alguno de los pasos, entonces el juego termina y vuelve a ponerse a la espera de que se pulse el boton de inicio.

<img src="https://upload.wikimedia.org/wikipedia/commons/c/cd/Simon_Electronic_Game.jpg" width="50%">

[https://es.wikipedia.org/wiki/Simon_(juego)](https://es.wikipedia.org/wiki/Simon_(juego) "Simon en Wikipedia")

## ¿Qué necesitamos programar?

El juego tiene tres estados: 
- Esperando
- Ejecutando la secuencia
- Comprobando la secuencia del jugador

La secvuencia de funcionamiento es muy simple. El juego pernmanece enb estado Idle (esperando) hasta que el jugador pulsa el boton de inicio. Entonces ejecuta el estado IA (mostrar secuencia a memorizar) una vez terminado pasa al estado Jugador (comprobar la secuencia del jugador) si este completa toda la secuencia vuelve al estado de IA don de se añade un elemento mas, si el jugador falla se vuelve al estado Idle.

El estado IA y Jugador se van a estar cambiando constantemente hasta que el jugador falle.

## Los elementos visuales del juego

Vamos a ver que elementos minimos necesitamos y como los vamos a usar.

En el aspecto de control vamos a necesitar un boton de inicio, cuatro botones para que el usuario meta la secuencia y un contador

{: .box-note} **NOTA:** Uno de los problemas que tuve para crear este prototipo fue como mostrar la secuencia al jugador. Al principio me empeñe en buscar la forma de activar por programamcion el estado de pulsado de los botones. Eso me hizo perder mucho tiempo para un juego tan sencillo. Por fin se me encendio la bombilla y fue una sensacion de "soy tonto de remate". Lo que hice es crear una serie de imagenes que contienen la imagen de boton pulsado con el mismo tamaño y posicion de los botones que se hacen visible o invisible por programacion.

## La logica del juego

Internamente el juego se basa en crear una secuencia que se incrementa por su final (spoiler: un array):

'''GDScript
var sequence:Array = [];

...

func startAIState():
	...
	#Add one element to the sequence
	var newElement = randi()%4;
	sequence.append(newElement);
    ...

'''

